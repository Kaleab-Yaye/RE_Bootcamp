# Core instractions
so in the 1.2a we have seen how registors are treated there systnax and the logic behind there usage now we will see how we can manupulate and work on thso registers

so we know hot do define methodes but how do you call a methode actually. the answer is

## Invoke instractione

now look we will deiscs on non static methodes we will see latteron about static one but now lets stick to the non statick methodes.

now the way to so this is
```Smali
Invoke-vertual {the paramerts list}, Lpackege/The_class_the_methode_is_foung_on;->theMedthode(what is take)returntype
```
now the {} will hold parmeter like {p1,p3,v0) etc it dont matter or {v0,p1} dotn matter the only thign you  shoudl know here is that the order matters;
the firt register in that list is the object that the methode is going to be called from(you ethee creat it inside the methode but most of the time it is recived as a 
parameter by the calling mehthode)

so the first register becomes p0 of the invoked methode and the second one become the p1 of the invoked methode so oreder matters;

the othere things is the fully qualified name of the methode is needed to avoid overloading issues that is why after the coma we refer to the whole thing. and you might be
asking what the ->
that is equivlane to the .use on the obejct to specify the methode you want.


so look at this java code

```Java
public void callerMethode(TheClass theClass,String name){
//we woudl have some methode level fields we have
String theName = name;
// now lets call the function.
theclass.calledMethode(theName);

```
ya  in jjava is is easy as you can see but now what about with smalli for the sake of simpllesne( and since i havne seen how to assine value to registors we will assume
vo holde the string ok

```
.methode public  callerMethode(Lsrc/TheClass;Java/lang/String)
.locals=1
// some how v0 now holds the name lets asuum

Invoke-vertuall {p1,v0}, Lsrc/TheClass;->calledMethode(L/Java/lang/string)V
```
so that was a lot but know p1 is not p0 for the calledMethode and v0 is the p1 for the Called methode;

## iget and iput;

so first off the reason we use those instaraction is to trasfer state or data between the fast registoras working on the cpu and the memroy fields of an object on the hip
if you want to trasfer data between resigrst you use the command move;

move v1,v2 you over ride the data that was stored on v2 wiht v1

but the perpose of the iget and iput is differnt as i said. here the systnax
### iget 
i get takes a data from specific field from an object on the hip and then assine that value to the local registor of our choosing;

```Smali
iget <the registe reff> ,<the obect reff>, Lthepackege/TheCLass/theField:(its data type)
exmaple
iget v1,p1,Lthepackege/Theclass/age:I
```
so here we take the data value that age is holding we know it is integer so we put it in v1;
just kow that p1 is the reffernce to the object which this methode got from its parrameters;

### iput;
iput does almsot the same thign but in reverse oreder, it puts data to the objects specified feild from teh specified registor;
```Smali
iput <the registe reff> ,<the obect reff>, Lthepackege/TheCLass/theField:(its data type)
exmaple
iput v1,p1,Lthepackege/Theclass/age:I
```
take some value int v1 and then stores it in age;


# exercis
looks this smali code and explain what eahc line is doing but before that rigth the java version of this code
```Smali
# Line 1:
invoke-virtual {p1}, Lcom/example/Person;->getName()Ljava/lang/String;

# Line 2:
move-result-object v0

# Line 3:
invoke-virtual {p2, v0}, Lcom/example/Person;->setName(Ljava/lang/String;)V
```

## explanation
ths whole thing is happenign inside anothere methode and that methode has one local registeor v0 and it hold the prameters regisotrs that are reffernces p1 and  p2 to the object 
in the heap. thos obejct are of the class Person. now you can see the Perosn class has to methode 
1. the getName methode and
2. the setName methodde

so on tehfirst line twe invoke the vertiall p1( the first person object on the hip) we got this reffernce from the methode parameteres( the methode the is impliclty there in this case)
so now on this object we call the getName methode, it has no parameter so the only registor it would have is p0;( it coud have more but this is the one we know of)
so the methode does what it was coded to do and return the reslt as string; so soem object is returned and waiting to be picked up

enter line 2;
the move-resuslt-object v0( remmerb we said we hve one locare registor that is what we are goign to use here) 
moves the object reffernce ( it is not the object but the reffernce) to v0 of this current methode ( the implicit one)

enter line 3;

now we are invoking a methode and we passed the parameters ({p2,v0} p2 is the reefercne to the second object and v0 is the reffernce to the string obejct that the priviously invoked 
methode returned;
now from the setName prospective p2 is po adn v0 is p1 and it will work one p1( not return type from this methode) and set some of the field values uing the iput methode most pobablbly is suspect somthign like
iput p1,p0, Lcom/exmpale/Person ->name:Ljava/lanf/String;


